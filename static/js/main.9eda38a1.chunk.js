(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{18:function(e,r,t){},19:function(e,r,t){},22:function(e,r,t){},23:function(e,r,t){},25:function(e,r,t){},26:function(e,r,t){},27:function(e,r,t){"use strict";t.r(r);var a=t(1),s=t.n(a),n=t(11),l=t.n(n),i=(t(18),t(19),t(13)),o=t(10),u=t.n(o),c=t(12),y=t(3),p=t(4),h=t(2),d=t(6),m=t(5),P=t(7),b=t.n(P),v=t(8),g=t.n(v),f=(t(22),t(23),t(0)),j=function(e){Object(d.a)(t,e);var r=Object(m.a)(t);function t(e){return Object(y.a)(this,t),r.call(this,e)}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.nextPlayer?this.ComputerPlayerDesign():this.gamePlayerDesign(),console.log("monter")}},{key:"ComputerPlayerDesign",value:function(){var e=document.getElementById("btnComputerPlayer"),r=document.getElementById("btnGamePlayer");e&&r&&(r.classList.remove("btn-player-design"),e.classList.add("btn-player-design"),window.setTimeout((function(){e.classList.remove("btn-player-design"),r.classList.add("btn-player-design")}),1100))}},{key:"gamePlayerDesign",value:function(){var e=document.getElementById("btnComputerPlayer"),r=document.getElementById("btnGamePlayer");e&&r&&(e.classList.remove("btn-player-design"),r.classList.add("btn-player-design"))}},{key:"wait",value:function(e){for(var r=Date.now();Date.now()-r<e;);return new Promise.resolve}},{key:"render",value:function(){return this.ComputerPlayerDesign(),Object(f.jsxs)("button",{id:this.props.btnPlayerId,className:"btn-player",children:[Object(f.jsx)("span",{children:this.props.value}),Object(f.jsx)("span",{children:0===this.props.score?"-":this.props.score})]})}}]),t}(a.Component),O=(t(25),function(e){Object(d.a)(t,e);var r=Object(m.a)(t);function t(e){var a;return Object(y.a)(this,t),(a=r.call(this,e)).state={caseValue:""},a.handleClick=a.handleClick.bind(Object(h.a)(a)),a}return Object(p.a)(t,[{key:"handleClick",value:function(e){this.props.onSquareClick(parseInt(e.target.id))}},{key:"render",value:function(){var e=document.getElementById(this.props.index);"X"===this.props.value&&(e.style.color="rgb(92, 90, 86)");var r=this.props.value&&this.props.value===this.props.computerPlayer?this.props.classLateSquare:"",t=null===this.props.border?"square":this.props.border;return Object(f.jsx)("div",{className:t,id:this.props.index,onClick:this.handleClick,children:Object(f.jsx)("span",{className:r,children:this.props.value})})}}]),t}(a.Component)),q=(t(26),function(e){Object(d.a)(t,e);var r=Object(m.a)(t);function t(e){var a;return Object(y.a)(this,t),(a=r.call(this,e)).handleSquareClick=a.handleSquareClick.bind(Object(h.a)(a)),a}return Object(p.a)(t,[{key:"componentDidMount",value:function(){window.setTimeout((function(){}),3e3),console.log("yyoo")}},{key:"computerPlay",value:function(){if(!this.props.nextPlayer){var e=g()({min:0,max:8,integer:!0});this.props.onBoardChange(e)}}},{key:"handleSquareClick",value:function(e){this.props.onBoardChange(e)}},{key:"renderSquare",value:function(e,r,t){return Object(f.jsx)(O,{value:this.props.squares[e],border:r,classLateSquare:t,onSquareClick:this.handleSquareClick,computerPlayer:this.props.computerPlayer,index:e})}},{key:"render",value:function(){var e="late";return Object(f.jsxs)("div",{className:"board",children:[Object(f.jsxs)("div",{className:"board-row",children:[this.renderSquare(0,"square border-left",e),this.renderSquare(1,"square border-center",e),this.renderSquare(2,"square border-right",e)]}),Object(f.jsxs)("div",{className:"board-row",children:[this.renderSquare(3,"square border-left",e),this.renderSquare(4,"square border-center",e),this.renderSquare(5,"square border-right",e)]}),Object(f.jsxs)("div",{className:"board-row",children:[this.renderSquare(6,"square border-end-left",e),this.renderSquare(7,"square"),this.renderSquare(8,"square border-end-right",e)]})]})}}]),t}(a.Component)),x=function(e){Object(d.a)(t,e);var r=Object(m.a)(t);function t(e){var a;return Object(y.a)(this,t),(a=r.call(this,e)).state={squares:Array(9).fill(null),history:[{squares:Array(9).fill(null)}],lastMove:{char:"",position:null},player:{startPlayer:b()(),gamePlayer:null,computerPlayer:null,nextPlayer:null},stepNumber:0,gamePlayerScore:0,computerPlayerScore:0},a.handleBoardChange=a.handleBoardChange.bind(Object(h.a)(a)),a.handleReplayClick=a.handleReplayClick.bind(Object(h.a)(a)),a}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.state.player.startPlayer?(this.setState((function(e,r){return{player:{startPlayer:e.player.startPlayer,gamePlayer:b()()?"X":"O"}}})),this.setState((function(e,r){return{player:{startPlayer:e.player.startPlayer,gamePlayer:e.player.gamePlayer,computerPlayer:"X"===e.player.gamePlayer?"O":"X",nextPlayer:e.player.gamePlayer}}}))):(this.setState((function(e,r){return{player:{startPlayer:e.player.startPlayer,computerPlayer:b()()?"X":"O"}}})),this.setState((function(e,r){return{player:{startPlayer:e.player.startPlayer,computerPlayer:e.player.computerPlayer,gamePlayer:"X"===e.player.computerPlayer?"O":"X",nextPlayer:e.player.computerPlayer}}})),this.makeComputerMove(g()({min:0,max:8,integer:!0})))}},{key:"handleBoardChange",value:function(){var e=Object(c.a)(u.a.mark((function e(r){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeMove(r);case 2:if(console.log("premier rendu"),t=this.state.history[this.state.stepNumber].squares.slice(),-1===(a=this.findBestSquare(t,this.state.player.nextPlayer))){e.next=9;break}return e.next=8,this.makeMove(a);case 8:console.log("Deuxieme rendu");case 9:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"handleReplayClick",value:function(e){this.state.player.startPlayer?(this.setState((function(e,r){return{player:{startPlayer:e.player.startPlayer,gamePlayer:b()()?"X":"O"}}})),this.setState((function(e,r){return{player:{startPlayer:e.player.startPlayer,gamePlayer:e.player.gamePlayer,computerPlayer:"X"===e.player.gamePlayer?"O":"X",nextPlayer:e.player.gamePlayer},squares:Array(9).fill(null),history:[{squares:Array(9).fill(null)}],lastMove:{char:"",position:null}}}))):(this.setState((function(e,r){return{player:{startPlayer:e.player.startPlayer,computerPlayer:b()()?"X":"O"}}})),this.setState((function(e,r){return{player:{startPlayer:e.player.startPlayer,computerPlayer:e.player.computerPlayer,gamePlayer:"X"===e.player.computerPlayer?"O":"X",nextPlayer:e.player.computerPlayer},squares:Array(9).fill(null),history:[{squares:Array(9).fill(null)}],lastMove:{char:"",position:null}}})),this.makeComputerMove(g()({min:0,max:8,integer:!0})))}},{key:"makeMove",value:function(e){var r=this,t=this.state.history.slice(0,this.state.stepNumber+1),a=t[t.length-1].squares.slice();if(a[e]||this.calculateWinner(a))return Promise.resolve();a[e]=this.state.player.nextPlayer;var s={squares:a,history:t.concat([{squares:a}]),player:{startPlayer:this.state.player.startPlayer,gamePlayer:this.state.player.gamePlayer,computerPlayer:this.state.player.computerPlayer,nextPlayer:"X"===this.state.player.nextPlayer?"O":"X"},stepNumber:t.length};return new Promise((function(e,t){r.setState(s,e)}))}},{key:"makeComputerMove",value:function(e){var r=this.state.history.slice(),t=r[r.length-1].squares.slice();this.calculateWinner(t)||t[e]||(t[e]="O"===this.state.player.nextPlayer?"O":"X",this.setState((function(e,a){return{squares:t,history:r.concat([{squares:t}]),player:{startPlayer:e.player.startPlayer,gamePlayer:e.player.gamePlayer,computerPlayer:e.player.computerPlayer,nextPlayer:"O"===e.player.computerPlayer?"X":"O"},stepNumber:r.length}})))}},{key:"calculateWinner",value:function(e){for(var r=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],t=0;t<r.length;t++){var a=Object(i.a)(r[t],3),s=a[0],n=a[1],l=a[2];if(e[s]&&e[s]===e[n]&&e[s]===e[l])return e[s]}return null}},{key:"isBoardFilled",value:function(e){for(var r=0;r<e.length;r++)if(null===e[r])return!1;return!0}},{key:"findBestSquare",value:function(e,r){var t=this,a="X"===r?"O":"X";return function e(s,n){var l=t.calculateWinner(s);if(l===r)return{square:-1,score:1};if(l===a)return{square:-1,score:-1};if(t.isBoardFilled(s))return{square:-1,score:0};for(var i={square:-1,score:n?-1e3:1e3},o=0;o<s.length;o++)if(!s[o]){s[o]=n?r:a;var u=e(s,!n).score;s[o]=null,n?u>i.score&&(i.score=u,i.square=o):u<i.score&&(i.score=u,i.square=o)}return i}(e,!0).square}},{key:"render",value:function(){var e,r=this.state.history,t=r[r.length-1],a=this.calculateWinner(this.state.squares);return e=a?a+" a gagn\xe9":"C'est a  "+("X"===this.state.player.nextPlayer?"O":"X")+" de jouer",Object(f.jsxs)("div",{className:"game-container",children:[Object(f.jsxs)("div",{className:"container-player-btn",children:[Object(f.jsx)(j,{value:this.state.player.gamePlayer,startPlayer:this.state.player.startPlayer,onDesignBtnPlayer:!0===this.state.player.startPlayer?this.gamePlayerDesign:this.ComputerPlayerDesign,btnPlayerId:"btnGamePlayer",nextPlayer:this.state.player.startPlayer,score:this.state.gamePlayerScore}),Object(f.jsx)(j,{value:this.state.player.computerPlayer,startPlayer:this.state.player.startPlayer,nextPlayer:this.state.player.startPlayer,onDesignBtnPlayer:!0===this.state.player.startPlayer?this.gamePlayerDesign:this.ComputerPlayerDesign,btnPlayerId:"btnComputerPlayer",score:this.state.computerPlayerScore})]}),Object(f.jsx)("div",{className:"status",children:Object(f.jsx)("p",{children:e})}),Object(f.jsx)("div",{className:"container-board",children:Object(f.jsx)(q,{squares:t.squares,computerPlayer:this.state.player.computerPlayer,onBoardChange:this.handleBoardChange})}),Object(f.jsx)("div",{className:"replay-btn",children:Object(f.jsx)("span",{onClick:this.handleReplayClick,children:"REJOUER"})})]})}}]),t}(s.a.PureComponent);var k=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(x,{})})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,28)).then((function(r){var t=r.getCLS,a=r.getFID,s=r.getFCP,n=r.getLCP,l=r.getTTFB;t(e),a(e),s(e),n(e),l(e)}))};l.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(k,{})}),document.getElementById("root")),C()}},[[27,1,2]]]);
//# sourceMappingURL=main.9eda38a1.chunk.js.map